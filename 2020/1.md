# Januar

## Coming soon

* üìù Bedingungen f√ºr die **Anzeige von Metadaten**
* \*\*\*\*üîê **Shibboleth**
* \*\*\*\*üó∫ **Karten**

## Aktuelles

Das neue Jahr f√§ngt krachend an. Es gibt tolle neue Funktionen im Goobi viewer und im Hintergrund hat sich einiges getan!

Mit dem Jahreswechsel hat der Goobi viewer die Marke von 1000 automatischen Unit Tests √ºberschritten.  Mit diesen Tests wird automatisch gepr√ºft ob Funktionalit√§t und Logik sich verhalten wie intendiert. Das gibt Sicherheit, dass ein einmal behobener Fehler nicht wieder auftaucht, oder wenn bestehende Funktionalit√§t ver√§ndert wird diese nicht kaputt geht.

Au√üerdem wurde im Hintergrund der Goobi viewer Core auf die Standard Maven Ordnerstruktur umgestellt. Damit ist die vor einem Jahr begonnene Umstellung des Buildsystems nun abgeschlossen. Sie tr√§gt auch bereits erste Fr√ºchte: Viele verwendete Java Libraries konnten aktualisiert und auf den neuesten Stand gebracht werden.

Neu ist auch das automatische Erzeugen von Releases. In dem Goobi viewer Core, Indexer und Connector k√∂nnen kompilierte und f√ºr die Installation ben√∂tigte Dateien direkt von Github heruntergeladen werden.

Zuletzt haben wir den Datenbestand auf der [Goobi viewer Demo- und Testinstanz](%20https://viewer.goobi.io) √ºberarbeitet. 

## Entwicklungen

### Merklisten

Die Merklisten wurden umfassend √ºberarbeitet. Dabei ist verschiedenes Feedback aus der Community eingeflossen. Die Neuerungen sind im Einzelnen:

#### Bilder speichern

Ab sofort ist es m√∂glich auch einzelne Bilder innerhalb einer Merkliste zu speichern. Bisher war das nur f√ºr Werke m√∂glich. Durch diese Erweiterung k√∂nnen Inhalte nun viel granularer zusammengestellt werden. Die Auswahl ob das Werk oder das aktuelle Bild gespeichert werden soll befindet sich in dem bekannten Dialog.

![Auswahl, ob das Werk oder ein einzelnes Bild auf der Merkliste gespeichert werden soll](../.gitbook/assets/2020-01_addimagetoreadinglist.png)

Der Wunsch f√ºr diese Funktionalit√§t wurde bereits h√§ufiger in der Community ge√§u√üert. Zuletzt im Kontext Crowdsourcing und Kampagnen wo der Bedarf formuliert wurde Kampagnen nicht nur f√ºr komplette Werke, sondern auch f√ºr dedizierte Inhalte kuratieren zu k√∂nnen. Mit der M√∂glichkeit einzelne Bilder auf Merklisten zu speichern wurde jetzt ein erster Schritt in diese Richtung gegangen.

#### Vergleichsansicht mit nur einem Werk √∂ffnen

Ebenfalls aus der Community kam der Wunsch die [Vergleichsansicht mit nur einem Werk](https://community.goobi.io/t/goobi-viewer-digest-fuer-dezember-2019/446/2) √∂ffnen zu k√∂nnen. Da es inhaltlich gut passte konnte auch dieser Wunsch direkt mit ber√ºcksichtigt werden.

#### Merklisten teilen

Ab sofort ist es m√∂glich Merklisten mit anderen Nutzern zu teilen. Daf√ºr stehen drei Varianten zur Verf√ºgung.

**Teilen mit einer Benutzergruppe:** Wenn ein Nutzer selbst Mitglied in einer Benutzergruppe ist, dann kann er Merklisten mit den anderen Mitgliedern aus dieser Gruppe teilen.

**Teilen mittels eines kryptischen Links:** F√ºr jede Merkliste kann ein kryptischer Link generiert werden. Dieser kann dann weitergegeben werden und externe k√∂nnen sich ohne Authentifizierung die Merkliste und dessen Inhalte anschauen. Die Freigabe mittels kryptischen Link kann auch widerrufen oder der Link neu erzeugt werden.

**√ñffentlich f√ºr Alle:** Eine Merkliste kann auch komplett ver√∂ffentlicht werden. Sie ist dann ohne Anmeldung f√ºr jeden Nutzer sichtbar. Daf√ºr gibt es eine neue Seite, die die √∂ffentlichen Merklisten einer Instanz auflistet. Die Seite kann wie gewohnt in das Men√º aufgenommen werden. Die Seite kann √ºber ein dediziertes CMS-Template mit individuellem Text versehen werden.

![F&#xFC;r alle &#xF6;ffentliche Merklisten](../.gitbook/assets/2020-01_publicreadinglists.png)

#### Merklisten und IIIF

Der IIIF Gedanke wurde auch hier konsequent weitergedacht. Die Inhalte einer per Link geteilten oder √∂ffentlichen Merkliste stehen als IIIF Collection zur Verf√ºgung. Auf diese Weise kann sich jeder Nutzer eigene individuelle IIIF Collections aus dem Datenbestand zusammenstellen.

#### Merklisten √úbersicht

Die √úbersicht der vorhandenen Merklisten zeigt jetzt direkt die Thumbnails der Inhalte an. Dies erlaubt einen schnelleren √úberblick und Einstieg in die Inhalte. 

#### Backend

Sehr gro√üe Umstellungen gab es auch im Hintergrund. Fr√ºher hie√üen die Merklisten B√ºcherregale. Als diese vor einiger Zeit zu Merklisten umbenannt wurden, hie√üen sie im Code zu 50% weiterhin `bookshelf`, zu 30% `readinglist` und zu 20% `watchlist`. Die Benennung wurde intern einheitlich auf die Bezeichnung `bookmark` angeglichen.

### Zitierlinks f√ºr Bildausschnitte

Neu ist die M√∂glichkeit Zitierlinks f√ºr Bildausschnitte zu erzeugen. Damit wird die M√∂glichkeit zur kollaborativen Arbeit mit dem Datenbestand gest√§rkt. Nutzer k√∂nnen Bildbereiche markieren zum Beispiel Links dahin per Emails weitergeben. Oberhalb des Bildes kann daf√ºr die Funktionalit√§t zum "Bildausschnitt teilen" aktiviert werden. Danach kann innerhalb des angezeigten Bildes ein Kasten aufgezogen werden. Neben dem Rechteck wird dann angeboten den Link zu der Seite mit dem Kasten selbst, oder den Link zu dem gew√§hlte Bildfragment via IIIF Image API zu kopieren.

Wird der Link zu der Seite weitergegeben dann wird der Kasten beim Laden der Seite direkt im Bild angezeigt. Au√üerdem stehen die beiden Links zur Seite und zum Bildfragment im Widget "Zitieren und Nachnutzen" zur Verf√ºgung.

![Die &quot;Bildausschnitt Teilen&quot; Funktion befindet sich oberhalb des angezeigten Bildes](../.gitbook/assets/2020-01_shareregion.png)

![Nach dem aufziehen eines Rechtecks auf dem Bild werden zwei M&#xF6;glichkeiten angeboten](../.gitbook/assets/2020-01_shareregion1.png)

Das hier gezeigte Beispiel kann unter dem folgenden Link betrachtet werden:

* [https://viewer.goobi.io/image/605302278/1/\#xywh=2907,1961,1589,1769](https://viewer.goobi.io/image/605302278/1/#xywh=2907,1961,1589,1769)

### Serien und Werke mit Anchor

Ist ein Werk Teil eines mehrb√§ndigen Werkes oder Teil einer Serie / Konvolut, so wird ab sofort ein Link in der Sidebar angezeigt, der auf diese Inhalte verweist. Bisher musste das explizit f√ºr einzelne Instanzen freigeschaltet werden.

Der Links verweisen auf die Serie / das Konvolut beziehungsweise das Gesamtwerk. Ist ein Werk Teil mehrerer Serien so werden die Serien - sofern konfiguriert - mit Namen als Liste aufgef√ºhrt.

![Ist das angezeigte Werk Teil mehrerer Bandserien werden diese in der Seitenleiste angezeigt](../.gitbook/assets/2020-01_partofseries.png)

![Links zu Konvolut / Serie und Gesamtwerk sind in der Seitenleiste sichtbar.](../.gitbook/assets/2020-01_partofandanchor.png)

### Vollbildanzeige

In der Vollbildanzeige gab es verschiedene kleinere Anpassungen. So steht zum Beispiel ab sofort auch die Suche im Werk zur Verf√ºgung. 

Weiter ist es m√∂glich die Seite, die beim Verlassen des Vollbildmodus aufgerufen wird, zu konfigurieren. Mehrt dazu in [Kapitel 2.12](https://docs.intranda.com/goobi-viewer-de/2/2.12) der Dokumentation.

### Authentifizierung

Mit Bibliotheca von OCLC wird ein weiterer Authentizierungsprovider unterst√ºtzt, der f√ºr die Nutzeranmeldung konfiguriert werden kann.

Mehr dazu in [Kapitel 2.5.1](https://docs.intranda.com/goobi-viewer-de/2/2.5/2.5.1) der Dokumentation.

### portugiesische Sprachunterst√ºtzung

Die portugiesische Sprachunterst√ºtzung wurde aus der Community heraus aktualisiert. Ein herzliches Dankesch√∂n daf√ºr! :-\)

### DenkXweb

Der Goobi viewer Indexer kann nun auch Datens√§tze im DenkXweb Standard indexieren die Bilder enthalten. Im Goobi viewer Core wurden kleinere Anpassungen vorgenommen um die Datens√§tze des Standards besser darzustellen.

### Erweiterte Suche

Die erweiterte Suche hat eine Unterst√ºtzung f√ºr mehrsprachige Metadaten bekommen - zu erkennen an den `_LANG_` Feldern. Wenn diese Felder f√ºr die erweiterte Suche konfiguriert werden, dann werden - wie bei anderen Bereichen auch-  nur noch die Felder der im Browser aktiven Sprache angezeigt.

## Versionsnummern

Die Versionen die in der `pom.xml` des Themes eingetragen werden m√ºssen um die in diesem Digest beschriebenen Funktionen zu erhalten lauten:

```markup
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core</artifactId>
    <version>4.3.0</version>
</dependency>
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core-config</artifactId>
    <version>4.3.3</version>
</dependency>
```

Der **Goobi viewer Indexer** hat die Versionsnummer **4.3.3**.

Der **Goobi viewer Connector** hat die Versionsnummer **4.3.0**.

Das **Goobi viewer Crowdsourcing Modul** hat die Versionsnummer **1.1.8**.

