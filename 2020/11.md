---
description: Goobi viewer Digest f√ºr November 2020
---

# November

## Coming soon üöÄ 

* Anpassungen an den **IIIF** Schnittstellen
* Themes mit **rechts-nach-links** **Leserichtung**
* **werksbasierte Hinweise** mit formatiertem Text

## Ank√ºndigung

Im ersten Quartal 2021 werden umfangreiche √Ñnderungen am Goobi viewer Core vorgenommen. Um eine vollst√§ndige Unterst√ºtzung der rechts-nach-links Leserichtung auch in Themes zu unterst√ºtzen m√ºssen XHTML Strukturen angepasst und CSS Anweisungen auf neuere Konzepte wie zum Beispiel CSS Grid und Flexbox umgestellt werden. Als veraltet geltende Konzepte wie floats werden entfernt. Weiter m√ºssen individuelle L√∂sungen, zum Beispiel f√ºr absolut positionierte Elemente oder Pfeile erarbeitet werden.  
Ein positiver Nebeneffekt ist eine verbesserte Responsivit√§t f√ºr mobile Endger√§te.

Diese strukturellen Anpassungen werden sich auf die notwendige Zeit auswirken die ein Theme Update anschlie√üend ben√∂tigt.

## Entwicklungen

### Archiv

Der Goobi viewer ist nun in der Lage die mit dem Archiv-Management Plugins in Goobi workflow erstellten B√§ume zusammen mit potentiell vorhandenen Digitalisaten anzuzeigen. Daf√ºr wurden zwei neue Bereiche und ein neues Widget entwickelt.

Der erste Bereich zeigt einen Baum innerhalb des Corporate Designs an. Es kann im Bestand navigiert und die Metadaten betrachtet werden. Von dort kann - sofern ein Digitalisat vorliegt - in die Werksanzeige gewechselt werden. Ansonsten steht ein Link zu der Archivansicht zur Verf√ºgung.

![Anzeige einer Tektonik innerhalb des Corporate Designs](../.gitbook/assets/2020-11_archives_in_ci.png)

Der zweite Bereich ist die dedizierte Archivansicht. Sie erstreckt sich √ºber den kompletten Bildschirm und erlaubt auch eine Suche im Bestand und das Anzeigen von Bildern direkt neben den Metadaten.

![Die neue Archivansicht](../.gitbook/assets/2020-11_archive_view.png)

Ist f√ºr ein digitalisiertes Werk eine Referenz zu einem Archivbestand vorhanden, so wird die Baumstruktur in einem neuen Widget angezeigt. Von hier kann ebenfalls in die Archivansicht gewechselt werden. In der Kopfzeile des Widgets ist das Browsen zu dem n√§chsten oder vorherigen digitalisierten Werk im Bestand m√∂glich.

![Ein neues Widget zeigt die Baumstruktur bei digitalisiertem Archivmaterial](../.gitbook/assets/2020-11_archives_widget.png)

### Barrierefreiheit

Der Goobi viewer Core wurde im Kontext Barrierefreiheit umfassend begutachtet und √ºberarbeitet. Dabei wurden die Richtlinien f√ºr barriefreie Webinhalte \(Web Content Accessibility Guidelines, kurz WCAG\) in der Version 2.1 in der AA Kompatibilit√§t gepr√ºft. Hierf√ºr wurden die Tools [axe](https://www.deque.com/axe/) und [Lighthouse](https://developers.google.com/web/tools/lighthouse/) verwendet. Alle dort ausgegebenen Anmerkungen wurden entweder korrigiert oder manuell gepr√ºft, um auszuschlie√üen, dass eine Verletzung der Richtlinien vorliegt.

Basierend auf der Ausgabe dieser automatischen Analysetools k√∂nnen wir jetzt mit ruhigem Gewissen sagen, dass die Richtlinien eingehalten werden. Dies ist auch in Hinblick auf die verpflichtende Barrierefreiheit gem√§√ü "Barrierefreie-Informationstechnik-Verordnung \(BITV\) 2.0" relevant.

![Die WCAG 2.1 AA Kompatibilit&#xE4;t des Frontends wurde sichergestellt.](../.gitbook/assets/2020-11_wcag.png)

### CMS

Auf der CMS-Seite f√ºr die Suche kann eine Filterquery √ºbergeben werden. Damit kann die Suche auf einen bestimmten Datenbestand eingegrenzt werden. Neu ist, dass wenn diese CMS-Seite einem Subtheme zugewiesen ist, automatisch im Datenbestand des Subthemes gesucht wird. Die Funktionalit√§t wird hier anderen CMS-Seiten angeglichen. Sofern eine zus√§tzliche Filterquery existiert kann diese bei einem Update entfernt werden.

### Download Widget

Innerhalb eines Werkes k√∂nnen zus√§tzliche Dateien zum Download angeboten werden. Darin k√∂nnen Dateien jetzt mittels eines regul√§ren Ausdrucks ausgeblendet werden. Das Ausblenden bezieht sich nur auf die Anzeige, der Download bleibt weiterhin m√∂glich.

Siehe dazu auch [Kapitel 2.23](https://docs.goobi.io/goobi-viewer-de/2/2.23) in der Dokumentation.

### Sonstiges

* Auf der Datenschutzseite kann jetzt auch unterhalb des Matomo Opt-Out iframes ein Text angezeigt werden.
* In der Suche ist es m√∂glich die initialen Suchtreffer randomisiert anzuzeigen. Siehe dazu auch [Kapitel 2.17.1](https://docs.goobi.io/goobi-viewer-de/2/2.17/2.17.1) in der Dokumentation
* Der SMTP Port ist bei der Konfiguration f√ºr den E-Mailversand ab sofort individuell konfigurierbar. Siehe dazu auch [Kapitel 2.5.2](https://docs.goobi.io/goobi-viewer-de/2/2.5/2.5.2) in der Dokumentation
* Die automatische Konvertierung von Volltextdateien zu UTF-8 kann jetzt optional deaktiviert werden. Siehe dazu auch [Kapitel 3.1.14](https://docs.goobi.io/goobi-viewer-de/3/3.1#3-1-14-parameter-fulltextforceutf8) in der Dokumentation

## Versionsnummern

Die Versionen die in der `pom.xml` des Themes eingetragen werden m√ºssen um die in diesem Digest beschriebenen Funktionen zu erhalten lauten:

```markup
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core</artifactId>
    <version>4.13.0</version>
</dependency>
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core-config</artifactId>
    <version>4.13.0</version>
</dependency>
```

Der **Goobi viewer Indexer** hat die Versionsnummer **4.13.0**.

Der **Goobi viewer Connector** hat die Versionsnummer **4.13.0**.

Das **Goobi viewer Crowdsourcing Modul** hat die Versionsnummer **4.13.0**

