---
description: Goobi viewer Digest f√ºr September 2020
---

# September

## Coming soon üöÄ 

* Erweiterung der Crowdsourcing **Kampagnen**
* Anpassungen an den **IIIF** Schnittstellen
* **WCAG**

## Entwicklungen

### Nutzungsbedingungen

Im Goobi viewer Backend k√∂nnen jetzt Nutzungsbedingungen hinterlegt werden. Hierf√ºr steht im Backend ein neuer Bereich zur Verf√ºgung:

![Im Backend gibt es einen neuer Bereich: Nutzungsbedingungen](../.gitbook/assets/2020-09_terms_of_use_disabled.png)

Ist die Funktion aktiv, kann ein Titel und ein Text in den aktivierten Sprachen hinterlegt werden. Au√üerdem steht die M√∂glichkeit zur Verf√ºgung die Zustimmung aller Benutzer zur√ºckzusetzen. Dies kann notwendig werden, wenn die Nutzungsbedingungen nachtr√§glich ver√§ndert werden.

![Die Nutzungsbedingungen haben einen Titel und einen Text](../.gitbook/assets/2020-09_terms_of_use_enabled_top.png)

![Nach &#xC4;nderungen k&#xF6;nnen Benutzer zum erneuten Best&#xE4;tigen aufgefordert werden.](../.gitbook/assets/2020-09_terms_of_use_enabled_bottom.png)

Die Nutzungsbedingungen m√ºssen dann bei der Registrierung oder einmalig beim Anmelden akzeptiert werden. Hierf√ºr wurde die Maske zum Anmelden und neu Registrieren umgestaltet. Das Design wurde angepasst, die Option zum registrieren eines neuen Accounts prominenter hervorgehoben und das dazugeh√∂rige Formular umgestaltet. Die Eingabe eines Anzeigenamens entf√§llt, da dieser f√ºr die Registrierung nicht zwingend erforderlich ist und die Nutzungsbedingungen werden - sofern aktiv - angezeigt.

![Beim Anlegen m&#xFC;ssen die Nutzungsbedingungen akzeptiert werden](../.gitbook/assets/2020-09_modal_register_account.png)

![Alternativ m&#xFC;ssen sie beim n&#xE4;chsten Login best&#xE4;tigt werden.](../.gitbook/assets/2020-09_modal_terms_of_use.png)

Mit den Nutzungsbedingungen wurde auch ein neues Bedienkonzept f√ºr die Mehrsprachigkeit entwickelt. Die gewohnte Register Ansicht wurde beibehalten aber visuell erweitert: 

1. Die Standardsprache steht immer an erster Stelle
2. Die Standardsprache ist optisch durch Farbe und Abstand von den √úbersetzungen abgesetzt
3. Die Reihenfolge der Sprachen ist durch die Konfigurationsdatei `faces-config.xml` eines Themes fest vorgegeben
4. Die Namen der Sprachen sind ausgeschrieben
5. Wenn die Standardsprache nicht ausgef√ºllt ist, ist ein Wechsel zu den √úbersetzungen nicht m√∂glich
6. Wenn eine Sprache vollst√§ndig √ºbersetzt ist, dann wird das visuell √ºber die Farbe der Registerkarte signalisiert

Der Screenshot weiter oben zeigt neben der fertig ausgef√ºllten Standardsprache, eine abgeschlossene englische √úbersetzung und die spanische ist gerade in Arbeit ist.

### Backend

Im Backend gibt es weitere kleine Anpassungen. So ist eine neue Topbar hinzugekommen die verschiedene Links zum Schnelleinstieg anbietet. Das Community Forum und die Dokumentation sind nun genauso schnell erreichbar wie das Frontend oder die M√∂glichkeit eine neue CMS-Seite anzulegen. Es wurde ein Sprachumschalter in das Backend integriert und die Option zum Abmelden ist aus der Seitenleiste nach oben rechts in die Topbar gewandert.

Sind zus√§tzliche Module installiert, wird dessen Versionsnummer jetzt auf dem Dashboard in dem Versions-Widget mit aufgelistet.

![Das Backend hat eine neue Topbar und die Version installierter Module wird auf dem Dashboard angezeigt](../.gitbook/assets/2020-09_dashboard_with_module_version.png)

Weiter ist es m√∂glich ein Impressum als CMS-Seite zu realisieren und als statische Seite zu mappen.

### Datens√§tze ohne Bilder auf den Merklisten

Die Merklisten k√∂nnen jetzt auch mit Datens√§tzen ohne Bilder umgehen. Bisher war die Ansicht an dieser Stelle sehr bildzentriert. Enth√§lt eine Merkliste Datens√§tze mit und ohne Bildern werden die Repr√§sentanten weiterhin in der √úbersicht angezeigt. Zus√§tzlich wird √ºber einen Text auf weitere Werke hingewiesen die keine Bilder enthalten. Enth√§lt eine Merkliste nur Datens√§tze ohne Bilder entf√§llt der komplette Bereich.

Die Darstellung der einzelnen Datens√§tze auf der Merkliste wurde an das Layout der Suchtrefferliste angeglichen.

### Erweiterte Suche

In der erweiterten Suche kann jetzt auch direkt ein Zeitraum f√ºr die Suche definiert werden. Daf√ºr muss bei dem gew√ºnschten Feld in der Konfigurationsdatei das Attribut `range="true"` gesetzt werden. Danach werden in der Oberfl√§che zwei Eingabefelder angezeigt in die jeweils Start- und Endjahr eingetragen werden kann

![In der erweiterten Suche kann direkt nach einem Zeitraum gesucht werden](../.gitbook/assets/2020-09_advanced_search_time_range.png)

### Gleichzeitiger Zugriff auf ein Werk steuern

Im August haben wir dar√ºber geschrieben wie der PDF-Download auf einen prozentualen Anteil des Werkes pro Nutzersession eingeschr√§nkt werden kann. Jetzt besteht auch die M√∂glichkeit den gleichzeitigen Zugriff auf Werke √ºber eine Zugriffslizenz zu steuern. Daf√ºr muss - analog zu der PDF-Funktionalit√§t - eine Zahl in das Feld `ACCESSCONDITION_CONCURRENTUSE` indexiert sein. Ist dieser Fall gegeben erkennt der Goobi viewer den Wert automatisch und bietet die Einschr√§nkung im Backend an.

Ist die Quota f√ºr die gleichzeitige Anzeige ausgesch√∂pft bekommt der Nutzer einen Hinweis angezeigt.

![Der gleichzeitige Zugriff auf ein Werk kann &#xFC;ber Zugriffslizenzen gesteuert werden](../.gitbook/assets/2020-09_concurrent_access_backend.png)

![Ist die maximale Anzahl an gleichzeitigen Nutzern erreicht wird der Zugriff verweigert](../.gitbook/assets/2020-09_concurrent_access_denied.png)

### Sonstiges

* Die Liste der Feldnamen in denen Geokoordinaten indexiert sind, ist nicht mehr fest vorgegeben sondern kann in der `config_viewer.xml` individuell festgelegt werden. Siehe dazu auch [Kapitel 2.36](https://docs.goobi.io/goobi-viewer-de/2/2.36) in der Dokumentation.
* Der Goobi viewer Indexer kann jetzt bei gruppierten Metadaten optional Standardwerte schreiben falls der konfigurierte XPATH Ausdruck keinen Wert liefert. Siehe dazu auch [Kapitel 3.7.5](https://docs.goobi.io/goobi-viewer-de/3/3.7#3-7-5-parameter-parameter-groupentity) der Dokumentation
* Die Versionsnummer des Crowdsourcing Moduls wurde an die anderen Komponenten des Goobi viewers angepasst.

## Versionsnummern

Die Versionen die in der `pom.xml` des Themes eingetragen werden m√ºssen um die in diesem Digest beschriebenen Funktionen zu erhalten lauten:

```markup
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core</artifactId>
    <version>4.11.0</version>
</dependency>
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core-config</artifactId>
    <version>4.11.0</version>
</dependency>
```

Der **Goobi viewer Indexer** hat die Versionsnummer **4.11.0**.

Der **Goobi viewer Connector** hat die Versionsnummer **4.11.0**.

Das **Goobi viewer Crowdsourcing Modul** hat die Versionsnummer **4.11.0**

