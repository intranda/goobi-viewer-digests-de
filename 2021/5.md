---
description: Goobi viewer Digest f√ºr Mai 2021
---

# Mai

## Coming soon üöÄ

* **Sammlungskonfiguration** im Backend
* **Benutzerseite** im Frontend

## Entwicklungen

### Crowdsourcing Kampagnen

Bisher waren die Einheiten in den Kampagnen immer die Datens√§tze selbst. Wenn aber zum Beispiel nur f√ºnf Datens√§tze mit jeweils 1.000 Bildern vorhanden sind und sich die Fragen auf die einzelnen Bilder beziehen, dann stellt die Betrachtung auf Datensatzebene eine Einschr√§nkung dar.

Aus diesem Grund wurde die M√∂glichkeit geschaffen innerhalb einer Kampagne die werksbasierte Betrachtung auf eine bildbasierte zu √§ndern.

![Die Statistikgrundlage einer Kampagne kann nun bildbasiert sein.](../.gitbook/assets/21-05_de_crowdsourcing_01_backend.png)

In dem Frontend gibt es nun eine neue Thumbnailanzeige. Dabei ist das aktive Bild mit einem blauen Rand hervorgehoben. Bilder die sich im Review-Modus befinden, Abgeschlossen sind oder durch einen anderen Benutzer bearbeitet werden dabei ausgegraut und leicht verwaschen dargestellt. F√§hrt man mit der Maus √ºber ein Bild, so wird √ºber ein Icon und einen Tooltip der genaue Status des Bildes angezeigt. Damit ist auch gleich die n√§chste Neuerung beschrieben: Bei einer bildbasierten Betrachtung findet ein Locking auf Bildebene statt. Damit wird verhindert, dass nicht mehrere Personen gleichzeitig an einem Bild arbeiten. Bisher fand ein Locking ausschlie√ülich auf Datensatzebene statt.

In der Karte steht bei der Verwendung von Mapbox eine Suchm√∂glichkeit zur Verf√ºgung mit der nach einem Ort oder einer Adresse gesucht werden kann.

![Thumbnailanzeige im Kampagnen Frontend](../.gitbook/assets/21-05_de_crowdsourcing_02_thumbs_frontend.png)

Beim Speichern einer Annotation bekommt der Nutzer eine visuelle Erfolgsmeldung angezeigt.

![Benachrichtigung im Kampagnen Frontend](../.gitbook/assets/21-05_de_crowdsourcing_03_frontend_notification.png)

Weitere Neuerungen sind, dass wir den Button zum Mitmachen in der Kampagnen√ºbersicht farblich st√§rker hervorgehoben haben und das die Auflistung der Datens√§tze innerhalb einer Kampagne nicht mehr zuf√§llig, sondern sortiert ist. Beide √Ñnderungen sind basieren aus direkten R√ºckmeldungen von Anwendern die sich das f√ºr eine einfachere Bedienung gew√ºnscht haben.

### Karten

Die Karten-Unterst√ºtzung des Goobi viewers wird sukzessive erweitert. Zu den bisherigen Funktionen gesell sich nun M√∂glichkeit hinzu auf einer Karte zu suchen und in den Suchtreffern auf einer Karte zu facettieren. Daf√ºr steht eine neue Seite zur Verf√ºgung die bei Bedarf im Men√º verlinkt werden kann. F√ºr die Facettierung muss in der Konfigurationsdatei das Feld `WKT_COORDS` als  konfiguriert werden.

Wenn Suchtreffer mit Koordinaten gefunden werden wird automatisch eine Karte angezeigt in der die indexierten Koordinaten angezeigt werden. Au√üerdem steht ein Widget zur Verf√ºgung in dem Facettiert werden kann.

![Sucheinstieg &#xFC;ber eine Karte](../.gitbook/assets/21-05_de_search_map.png)

![](../.gitbook/assets/de.png)

![Facettierung als Vollbild Overlay](../.gitbook/assets/21-05_de_search_results_facet.png)

### Doppelseiten

Im Kontext Doppelseiten gibt es zwei Neuerungen im Goobi viewer. Die Erste ist, dass die Kodierung der Doppelseitenanzeige jetzt auch in der URL erfolgt. Damit besteht ab sofort die M√∂glichkeit eine Doppelseitenanzeige als Link an andere Weiterzuleiten. Die zweite Neuerung ist, dass wenn in Goobi workflow einzelne Seiten als Doppelseiten markiert wurden, diese Information in der Doppelseitenanzeige des Goobi viewers dazu f√ºhrt, das hier einzelne Bilder angezeigt werden. Einfacher erkl√§rt ist es mit einem Beispiel:

_Eine Monographie umfasst 100 Seiten. Diese wurde als Einzelseiten digitalisiert. Am Ende gibt es eine Tabelle die sich √ºber zwei Seiten erstreckt. Daf√ºr wurden die beiden Seiten als Doppelseiten gescannt. Bei der aktiven Doppelseitenanzeige zeigt der Goobi viewer immer zwei Einzelbilder zusammengefasst an. Bei dem gescannten Doppelseitenbild wird aber nur dieses eine Bild angezeigt. Es ist also nicht auf den ersten Blick ersichtlich ob es sich um zwei Einzelseiten oder um eine Doppelseite handelt._

![Beispiel f&#xFC;r Werk mit gescannter Doppelseite](../.gitbook/assets/21-05_de_double_page_thumbs.png)

### CMS: Text mit Suchtreffern

Im CMS-Template "Text mit Suchtreffern" steht eine neue Checkbox zur Verf√ºgung mit der optional nicht die Werke wie bisher aufgelistet werden, sondern Strukturelemente gefunden werden. Damit k√∂nnen Solr-Queries f√ºr die Suchtreffer formuliert werden, die zum Beispiel alle in Telefon- und Adressb√ºchern enthaltene Karten auflistet um eine entsprechende √úbersicht anzubieten.

### Metadaten

Metadaten k√∂nnen jetzt anhand von Bedingungen angezeigt werden. In dem realisierten Anwendungsfall lagen Literaturangaben mit Verweisen zum Katalog vor, von denen einige Werke auch bereits digitalisiert waren. Bei diesen Werken sollte ein zus√§tzlicher Link zum digitalisierten Werk angezeigt werden, nicht aber global bei jedem Datensatz um keine defekten Links zu generieren.

Siehe dazu auch die Dokumentation f√ºr `<param condition="" />` in [Kapitel 1.19.1](https://docs.goobi.io/goobi-viewer-de/conf/1/19/1) der Goobi viewer Core Dokumentation.

### Backend

Das Backend verwendet nun eine einheitliche Schriftart [Inter](https://rsms.me/inter/). Au√üerdem wurden die Akzentfarben in rot, orange und gr√ºn auf einen kr√§ftigeren Farbton angepasst. 

![Einheitliche Schriftart und kr&#xE4;ftigere Farben f&#xFC;r das Backend](../.gitbook/assets/21-05_de_font_and_colors.png)

### Goobi viewer Indexer

F√ºr die Unterst√ºtzung der Indexierung der Informationen f√ºr die ver√§nderte Doppelseitenansicht ist ein Update des Goobi viewer Indexers notwendig.

Weiter ist ein Schalter hinzugekommen um Koordinaten aus Normdatens√§tzen alternativ zu Speichern. Siehe dazu auch die Beschreibung des `addCoordsToDocstruct` Schalters in [Kapitel 2.5](https://docs.goobi.io/goobi-viewer-de/conf/2/5) der Goobi viewer Indexer Konfiguration.

### Goobi viewer Connector

In dem Goobi viewer Connector gab es zwei kleine Bugfixes an der OAI Schnittstelle.

## Versionsnummern

Die Versionen die in der `pom.xml` des Themes eingetragen werden m√ºssen um die in diesem Digest beschriebenen Funktionen zu erhalten lauten:

```markup
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core</artifactId>
    <version>21.05.2</version>
</dependency>
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core-config</artifactId>
    <version>21.05</version>
</dependency>
```

Der **Goobi viewer Indexer** hat die Versionsnummer **21.05**

Der **Goobi viewer Connector** hat die Versionsnummer **21.05**

Das **Goobi viewer Crowdsourcing Modul** hat die Versionsnummer **21.05.1**

