---
description: Goobi viewer Digest f√ºr September 2021
---

# September

## **C**oming soon üöÄ

* √úberarbeitung der **Kommentare**
* **Docker** Container
* **Benutzerdashboard** im Frontend

## Entwicklungen

### Docker

![Das GEI erm&#xF6;glicht die Bereitstellung des Goobi viewers in Docker Containern](../.gitbook/assets/gei_docker.png)

Mit dem September Release nimmt das Docker-Setup Gestalt an. Eine Vielzahl von Arbeiten wurde in diesem Monat in diesem Zusammenhang ver√∂ffentlicht. Dabei wurden bestehende Container angepasst und erweitert, es kamen neue hinzu und auch eine erste Installationsanleitung f√ºr den Produktivbetrieb steht ab sofort zur Verf√ºgung.

F√ºr die einfachere Verwaltung der verschiedensten Container und dessen Zusammenspiel wurde das Repository [goobi-viewer-docker](https://github.com/intranda/goobi-viewer-docker) ver√∂ffentlicht in dem alle notwendigen Dateien vorhanden sind um √ºber Docker Compose ein Setup zu realisieren.

F√ºr die Installation stehen zwei Szenarien zur Verf√ºgung. Ein recht schnelles und triviales Testszenario und eines f√ºr den Produktiveinsatz. F√ºr letzteres steht auch eine [eigene Installationsanleitung](https://docs.goobi.io/goobi-viewer-de/devop/3/2) zur Verf√ºgung.

Wir haben im Produktivszenario darauf geachtet, dass sich m√∂glichst vieles genauso verh√§lt wie auch bei einer klassischen Installation. Das bedeutet, dass die Ordnerstruktur identisch ist und die entsprechenden Verzeichnisse und Konfigurationsdateien in die Container hineingereicht werden. Auch bekannte Aliase wie `ind` oder `cata` stehen analog zur Verf√ºgung.

Insgesamt besteht das Goobi viewer Docker Setup aus den folgenden Containern:

* **goobi-viewer-docker**: Docker Compose Dateien \([Github](https://github.com/intranda/goobi-viewer-docker)\)
* **goobi-viewer-docker-solr**: Apache Solr f√ºr den Goobi viewer \([Github](https://github.com/intranda/goobi-viewer-docker-solr)\)
* **goobi-viewer-docker-proxy**: HTTP Proxy f√ºr den Goobi viewer \([Github](https://github.com/intranda/goobi-viewer-docker-proxy)\)
* **goobi-viewer-indexer**: Container mit dem Goobi viewer Indexer \([Github](https://github.com/intranda/goobi-viewer-indexer)\)
* **goobi-viewer-connector**: Container mit der Goobi viewer OAI & SRU Schnittstelle \([Github](https://github.com/intranda/goobi-viewer-connector)\)
* **goobi-viewer-theme-reference**: Container mit dem Goobi viewer Reference Theme \([Github](https://github.com/intranda/goobi-viewer-theme-reference)\)

F√ºr den kommenden Monat stehen hier jetzt neben kleineren Entwicklungen vor allem Aufr√§umarbeiten, Polishing, Vereinheitlichung und Dokumentation an.

### Konto

Bisher konnten nur Administratoren ein Konto innerhalb des Goobi viewers l√∂schen. Jetzt k√∂nnen Benutzer dieses in den √ºberarbeiteten Kontoeinstellungen auch eigenst√§ndig. Weiter kann f√ºr ein Konto ein individuelles Profilbild hochladen werden. Bisher konnte hier nur zwischen einem Standardbild und dem Gravatar Dienst gew√§hlt werden.

In dem Zuge der √úberarbeitung des Bereiches wurde auch im Backend auf der Benutzerseite eine Sidebar eingef√ºhrt.

![Die Kontoeinstellungen wurden &#xFC;berarbeitet](../.gitbook/assets/21.09-de-account_top.png)

![Ein Konto kann jetzt selbst gel&#xF6;scht werden](../.gitbook/assets/21.09-de-account_bottom.png)

![Optional kann ein individuelles Profilbild hochgeladen werden](../.gitbook/assets/21.09-de-account_edit_profile_image.png)

![Die Benutzerseite im Backend wurde &#xFC;bersichtlicher gestaltet](../.gitbook/assets/21.09-de-backend_user_edit.png)

### Metadaten

Im Kontext Metadaten hat sich sehr viel getan. Vieles ist vielleicht auf den ersten Blick gar nicht sichtbar oder f√§llt erst bei einem Update auf.

Der Goobi viewer unterst√ºtzt nun die Anzeige von Metadatengruppen in Gruppen. Dabei ist es egal aus welchem Dateiformat \(LIDO, METS/MODS\) diese stammen. 

![Visuelle Darstellung von Gruppen in Gruppen](../.gitbook/assets/21.09-de-metadata_nested_hierarchy.png)

In diesem Zuge wurde im Code selbst kr√§ftig aufger√§umt. Dieser Teil ist n√§mlich √ºber die Jahre immer nur gewachsen. Er ist jetzt besser.

F√ºr jeden sichtbar ist, dass der Dokumententyp oder ein Strukturtyp automatisch vor einem Block als √úberschrift erscheint.

![&#xDC;berschriften f&#xFC;r Metadatenbl&#xF6;cke](../.gitbook/assets/21.09-de-metadata_section_title.png)

Auch im Kontext LIDO hat sich einiges ver√§ndert. So ist bei den Aufr√§umarbeiten zum Beispiel aufgefallen, dass es f√ºr die Konfiguration der Anzeige von Eventmetadaten in der Seitenleiste eine Vermischung mit dem Bereich der Hauptmetadaten gab. Ab jetzt regelt auch bei LIDO Metadaten der Block `<metadataView />` nur die Anzeige auf der dedizierten Seite, und in der `<sideBarMetadataList />` werden die Metadaten f√ºr die Seitenleiste definiert.

Weiter haben wir die Terminologie an den einzelnen Stellen angepasst, so dass bei LIDO Datens√§tzen einheitlich von "Metadaten" und nicht mehr teilweise von "Bibliographischen Daten" gesprochen wird.

Zu guter Letzt ist es jetzt auch M√∂glich Metadaten aus Events f√ºr die Anzeige in der `<searchHitMetadataList />` zu konfigurieren.

### Karten

Wenn f√ºr Strukturelemente Koordinaten erfasst sind werden diese als Marker oder als Bounding Box in der Seitenleiste angezeigt. Die Auswahl eines Strukturelementes war √ºber die Karte bereits m√∂glich.

Neu ist, dass das der aktive Marker oder die aktive Bounding Box jetzt visuell hervorgehoben werden. Daf√ºr werden die Elemente rot eingef√§rbt. Auch wird automatisch zu dem aktiven Element gezoomt damit es gut sichtbar ist.

![Visuelle Hervorhebung und Zoom zum aktuell ausgew&#xE4;hlten Element in der Sidebar Karte](../.gitbook/assets/21.09-de-maps_highlight_active_bounding_box.png)

Bei der Facettierung k√∂nnen die Suchtreffer in der Karte √ºber einen Schalter bei Bedarf initial ausgeblendet werden. Au√üerdem ist die Adresssuche in der Karte √ºber Mapbox nun deaktivierbar. 

### Annotationen

Die Anzeige der Annotationen im Werk hat nun mehr M√∂glichkeiten. So ist das Widget in der Sidebar schlanker geworden und auch die Bedienbarkeit wurde verbessert. Die optionale Anzeige unter dem Bild verwendet nun die gleiche technische Infrastruktur wie das Sidebar Widget und die Anzeige der Texte im Bild l√§sst sich global deaktivieren, so dass nur der Rahmen sichtbar ist.

### Goobi viewer Indexer

Im Goobi viewer Indexer gab es eine gr√∂√üere interne Umstellung die das Einlesen und Verwalten der Konfigurationsdatei betrifft. Dies wurde f√ºr die Indexierung von mehrstufig gruppierten Metadaten notwendig. 

Weiter kann der Indexer jetzt auch f√ºr METS/MODS Dateien Bilder automatisch herunterladen, wenn der `_downloadImages` Indikatorordner im Dateisystem existiert.

Damit LIDO Events besser gefunden werden wird das Feld `ACCESSCONDITION` automatisch mitgeschrieben.

### Verschiedenes

* In dem CMS-Template "Einzelansicht einer Sammlung" wird nun auch die Trefferanzahl angezeigt und es stehen die Optionen zur Sortierung zur Verf√ºgung
* Wird das Feedback-Modal √ºber das Webfragment `#feedback` aufgerufen, so kann bei mehreren konfigurierten Adressen der vorausgew√§hlte Eintrag ebenfalls dem Fragment mit √ºbergeben werden, zum Beispiel `#feedback:recipient=unicorn`

## Versionsnummern

Die Versionen die in der `pom.xml` des Themes eingetragen werden m√ºssen um die in diesem Digest beschriebenen Funktionen zu erhalten lauten:

```markup
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core</artifactId>
    <version>21.09.3</version>
</dependency>
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core-config</artifactId>
    <version>21.09</version>
</dependency>
```

Der **Goobi viewer Indexer** hat die Versionsnummer **21.09**

Der **Goobi viewer Connector** hat die Versionsnummer **21.09**

Das **Goobi viewer Crowdsourcing Modul** hat die Versionsnummer **21.09.1**

