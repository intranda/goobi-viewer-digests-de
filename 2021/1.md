---
description: Goobi viewer Digest f√ºr Januar 2021
---

# Januar

## Coming soon üöÄ

* Anpassungen an den **IIIF** Schnittstellen
* Themes mit **rechts-nach-links** **Leserichtung**
* Aus der Oberfl√§che heraus **Caches leeren**

## Ank√ºndigungen

Der Goobi viewer hat das Schema der Versionierung mit Goobi workflow synchronisiert. Dadurch ist jetzt immer direkt ersichtlich aus welchem Jahr und Monat eine Version stammt. Diese Version ist jetzt die `21.01`. Die beiden FAQ Beitr√§ge um herauszufinden wie alt ein Goobi viewer ist und wie die Versionierung funktioniert wurden entsprechend √ºberarbeitet.

Mit dieser Version wird die Funktionalit√§t um Strukturtypen w√§hrend der Indexierung automatisch durch andere zu ersetzen \(siehe [Kapitel 2.4](https://docs.goobi.io/goobi-viewer-de/conf/2/4)\) offiziell abgek√ºndigt. Wenn sie noch von Einrichtungen genutzt wird werden diese hiermit aufgefordert sich per E-Mail oder im Community Forum mit uns in Verbindung zu setzen. Wir planen die Funktionalit√§t mit einem der kommenden Versionen im Goobi viewer Indexer ersatzlos zu l√∂schen.

{% hint style="warning" %}
Bei der REST API gibt es einen Breaking Change! Siehe dazu auch den entsprechenden Abschnitt weiter unten.
{% endhint %}

## Entwicklungen

### Werkshinweise

Im Backend gibt es einen neuen Bereich f√ºr Werkshinweise. √úber die neue Funktionalit√§t ist es m√∂glich f√ºr ein Werk ein individuelles neues Sidebar Widget mit einem eigenen Titel und eigenem Text hinzuzuf√ºgen. Je nach Styling im Theme kann die Funktionalit√§t aber auch an andere Stellen verschoben werden.

In der Werkansicht steht daf√ºr eingeloggten Benutzern mit Administratorenrechten im Widget "√Ñnderungen am Werk" ein neuer Link zur Verf√ºgung: "Werkshinweis hinzuf√ºgen". Nach einem Klick √∂ffnet sich automatisch der neue Bereich im Backend. W√§hrend in der Seitenleiste ein paar Informationen zum Werk selbst angezeigt werden, k√∂nnen in der Mitte Titel und Text eingegeben werden. Dabei steht die inzwischen bekannte Reiteransicht mit der visuellen Hervorhebung der √úbersetzungen zur Verf√ºgung. Im Backend gibt es weiter eine tabellarische √úbersicht der angelegten Hinweise. Dort l√§sst sich unter Eingabe eines Identifiers auch ein Hinweis anlegen.

![Im Widget &quot;&#xC4;nderungen am Werk&quot; gibt es einen neuen Link &quot;Werkshinweis hinzuf&#xFC;gen&quot;](../.gitbook/assets/21.01_de_addrecordnote.png)

![Rechts stehen Informationen zum Werk, in der Mitte k&#xF6;nnen Titel und Text verwaltet werden](../.gitbook/assets/21.01_de_addrecordnotebackend.png)

![Der Hinweis wird im Werk prominent in der Seitenleiste angezeigt](../.gitbook/assets/21.01_de_recordnotefrontendresult.png)

![Im Backend gibt es eine tabellarische &#xDC;bersicht aller Werkshinweise](../.gitbook/assets/21.01_de_recordnotebackendoverview.png)

### API

Die Arbeiten zur Refaktorisierung der API sind endlich komplett fertiggestellt. Im Juli letzten Jahres war bereits ein gro√üer Teil der API refaktorisiert und in einen neuen Namespace umgezogen. In den letzen Monaten sind nun auch die letzten, vornehmlich internen Teile final umgezogen. Damit entf√§llt der Bereich unter `/rest/` komplett und wird durch die neue Struktur unterhalb von `/api/v1/` ersetzt.

Der neue Bereich /`api/v1/` biete viele Vorteile. So ist zum erstem Mal die API komplett dokumentiert \(siehe `/api/swagger/`\). Au√üerdem gibt es eine Testinfrastruktur in der bereits viel Code automatisch getestet wird und die erm√∂glicht die Abdeckung dort in Zukunft auch noch weiter zu erh√∂hen. Auch ist die API ab jetzt versioniert. Das bedeutet, dass nicht abw√§rtskompatible √Ñnderungen in einem anderen Namespace durchgef√ºhrt werden k√∂nnen \(zum Beispiel `/api/v2/`\). Aufrufe an `/api/v1/` sind dadurch dann nicht betroffen.

Einen sauren Apfel gibt es trotzdem noch: Es handelt sich hierbei um einen sogenannten Breaking Change. Sofern noch die alte REST Schnittstelle verwendet wird m√ºssen die Aufrufe entsprechend angepasst werden.

### Karten

Es ist ab sofort m√∂glich auch eigene Mapbox Styles f√ºr die Karten zu verwenden. Daf√ºr gibt es die neuen optionalen Optionen  und  in der Konfigurationsdatei. Siehe auch [Kapitel 1.36](https://docs.goobi.io/goobi-viewer-de/conf/1/36) in der Dokumentation

### Messages

Mit der Maven Umstellung ging einher, dass die globalen Messages Dateien nach einer Installation nicht mehr entpackt im Dateisystem lagen, sondern gepackt innerhalb der viewer-core.jar enthalten waren. Wir konnten die messages Dateien jetzt in das goobi-viewer-core-config Repository umziehen. Damit liegen diese nach der Installation wieder im Dateisystem und sind deutlich einfacher zug√§nglich.

### Goobi viewer Indexer

Der Goobi viewer Indexer hat einen neuen Parameter bekommen um automatisch ein Boolean-Feld zu generieren wenn das dazugeh√∂rige Metadatum vorhanden ist. Diese k√∂nnen dann zum Beispiel in der Facettierung eingesetzt werden. Ein Anwendungsbeispiel ist zum Beispiel, dass nur bestimmte Werke Ortsangaben besitzen und man nur nach diesen Werken facettieren m√∂chte.

Siehe dazu auch [Kapitel 2.5](https://docs.goobi.io/goobi-viewer-de/conf/2/5#addexistenceboolean) in der Dokumentation

## Dokumentation

Die Dokumentation des Goobi viewers wurde massiv √ºberarbeitet. Sie ist jetzt in verschiedene Sektionen aufgeteilt um schneller eine bessere √úbersicht zu bekommen. Die Abschnitte f√ºr den Goobi viewer Indexer und den Goobi viewer Connector wurden inhaltlich, stilistisch und strukturell an den Goobi viewer Core angepasst. Komplett neu ist die Beschreibung der Backend Oberfl√§che f√ºr die bereits √ºberarbeiteten Seiten. Einfach einmal rein schauen, viel Spa√ü beim St√∂bern und Nachschlagen. Hinweise bitte gerne ins Community ForumüôÇ 

## Versionsnummern

Die Versionen die in der `pom.xml` des Themes eingetragen werden m√ºssen um die in diesem Digest beschriebenen Funktionen zu erhalten lauten:

```markup
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core</artifactId>
    <version>21.01.1</version>
</dependency>
<dependency>
    <groupId>io.goobi.viewer</groupId>
    <artifactId>viewer-core-config</artifactId>
    <version>21.01</version>
</dependency>
```

Der **Goobi viewer Indexer** hat die Versionsnummer **21.01**

Der **Goobi viewer Connector** hat die Versionsnummer **21.01**

Das **Goobi viewer Crowdsourcing Modul** hat die Versionsnummer **21.01**

